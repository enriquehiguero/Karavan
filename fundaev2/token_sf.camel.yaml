- route:
    id: get-successfactors-token
    from:
      id: from-682f
      uri: direct
      parameters:
        name: start
      steps:
        - setBody:
            id: setBody-9a9b
            expression:
              simple:
                id: simple-ac78
                expression: >-
                  client_id=MzEzMWViMTUzMMDFlNWRhYzBmNw&user_id=ADMINT4S&token_url=https://api55.sapsf.eu/oauth/token&private_key=TUlJRXZRSUE
        - setHeader:
            id: setHeader-706c
            name: Content-Type
            expression:
              simple:
                id: simple-b7eb
                expression: application/x-www-form-urlencoded
        - to:
            id: to-9b2b
            uri: http
            parameters:
              httpUri: api55.sapsf.eu/oauth/idp?httpMethod=POST
        - log:
            id: log-d441
            message: "Cookie response: ${body}"
        - setBody:
            id: setBody-39e7
            expression:
              simple:
                id: simple-999c
                expression: >-
                  company_id=nttdataeurD&client_id=MzEzMWViMTUzMWE2YzhlNzJhMDFlNWRhYzBmNw&grant_type=urn:ietf:params:oauth:grant-type:saml2-bearer&user_id=ADMINT4S&assertion=PD9=
        - setHeader:
            id: setHeader-d2e4
            name: Content-Type
            expression:
              simple:
                id: simple-5f97
                expression: application/x-www-form-urlencoded
        - to:
            id: to-8a43
            uri: http
            parameters:
              httpUri: api55.sapsf.eu/oauth/token?httpMethod=POST
        - log:
            id: log-3e2f
            message: "Token response: ${body}"
    onException:
      exception: java.lang.Exception
      handled:
        constant: "true"
      steps:
        - log:
            message: "Error en la ruta: ${exception.message}"
